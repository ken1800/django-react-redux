{"ast":null,"code":"import * as actionType from \"./actionType\";\nimport axios from \"axios\";\nimport { createMessage, returnErrors } from \"./messages\";\nimport { tokenConfig } from \"./authActions\";\nconst url = \"http://localhost:8000/api/leads/\";\nexport const getLeads = () => (dispatch, getState) => {\n  axios.get(url, tokenConfig(getState)).then(res => {\n    dispatch({\n      type: actionType.GET_LEADS,\n      payload: res.data\n    });\n  }).catch(err => console.log(err));\n};\nexport const deleteLead = id => (dispatch, getState) => {\n  axios.delete(url + `${id}/`, tokenConfig(getState)).then(res => {\n    dispatch({\n      type: actionType.DELETE_LEAD,\n      payload: id\n    });\n    dispatch(createMessage({\n      deleteLead: \"Lead Deleted\"\n    }));\n  }).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n};\nexport const addLead = lead => (dispatch, getState) => {\n  axios.post(url, lead, tokenConfig(getState)).then(res => {\n    setTimeout(() => {\n      return dispatch({\n        type: actionType.ADD_LEAD,\n        payload: res.data\n      });\n    }, 2000);\n    return dispatch(createMessage({\n      addedLead: \"Lead Added..\"\n    }));\n  }).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n};","map":{"version":3,"sources":["/home/proff/kenny/leadv2/front/src/store/actions/leadsActions.jsx"],"names":["actionType","axios","createMessage","returnErrors","tokenConfig","url","getLeads","dispatch","getState","get","then","res","type","GET_LEADS","payload","data","catch","err","console","log","deleteLead","id","delete","DELETE_LEAD","response","status","addLead","lead","post","setTimeout","ADD_LEAD","addedLead"],"mappings":"AAAA,OAAO,KAAKA,UAAZ,MAA4B,cAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,YAAxB,QAA4C,YAA5C;AACA,SAASC,WAAT,QAA4B,eAA5B;AAEA,MAAMC,GAAG,GAAG,kCAAZ;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM,CAACC,QAAD,EAAWC,QAAX,KAAwB;AACpDP,EAAAA,KAAK,CACFQ,GADH,CACOJ,GADP,EACYD,WAAW,CAACI,QAAD,CADvB,EAEGE,IAFH,CAESC,GAAD,IAAS;AACbJ,IAAAA,QAAQ,CAAC;AACPK,MAAAA,IAAI,EAAEZ,UAAU,CAACa,SADV;AAEPC,MAAAA,OAAO,EAAEH,GAAG,CAACI;AAFN,KAAD,CAAR;AAID,GAPH,EAQGC,KARH,CAQUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CARlB;AASD,CAVM;AAYP,OAAO,MAAMG,UAAU,GAAIC,EAAD,IAAQ,CAACd,QAAD,EAAWC,QAAX,KAAwB;AACxDP,EAAAA,KAAK,CACFqB,MADH,CACUjB,GAAG,GAAI,GAAEgB,EAAG,GADtB,EAC0BjB,WAAW,CAACI,QAAD,CADrC,EAEGE,IAFH,CAESC,GAAD,IAAS;AACbJ,IAAAA,QAAQ,CAAC;AACPK,MAAAA,IAAI,EAAEZ,UAAU,CAACuB,WADV;AAEPT,MAAAA,OAAO,EAAEO;AAFF,KAAD,CAAR;AAKAd,IAAAA,QAAQ,CAACL,aAAa,CAAC;AAAEkB,MAAAA,UAAU,EAAE;AAAd,KAAD,CAAd,CAAR;AACD,GATH,EAUGJ,KAVH,CAUUC,GAAD,IACLV,QAAQ,CAACJ,YAAY,CAACc,GAAG,CAACO,QAAJ,CAAaT,IAAd,EAAoBE,GAAG,CAACO,QAAJ,CAAaC,MAAjC,CAAb,CAXZ;AAaD,CAdM;AAgBP,OAAO,MAAMC,OAAO,GAAIC,IAAD,IAAU,CAACpB,QAAD,EAAWC,QAAX,KAAwB;AACvDP,EAAAA,KAAK,CACF2B,IADH,CACQvB,GADR,EACasB,IADb,EACmBvB,WAAW,CAACI,QAAD,CAD9B,EAEGE,IAFH,CAESC,GAAD,IAAS;AACbkB,IAAAA,UAAU,CAAC,MAAM;AACf,aAAOtB,QAAQ,CAAC;AACdK,QAAAA,IAAI,EAAEZ,UAAU,CAAC8B,QADH;AAEdhB,QAAAA,OAAO,EAAEH,GAAG,CAACI;AAFC,OAAD,CAAf;AAID,KALS,EAKP,IALO,CAAV;AAMA,WAAOR,QAAQ,CAACL,aAAa,CAAC;AAAE6B,MAAAA,SAAS,EAAE;AAAb,KAAD,CAAd,CAAf;AACD,GAVH,EAWGf,KAXH,CAWUC,GAAD,IACLV,QAAQ,CAACJ,YAAY,CAACc,GAAG,CAACO,QAAJ,CAAaT,IAAd,EAAoBE,GAAG,CAACO,QAAJ,CAAaC,MAAjC,CAAb,CAZZ;AAcD,CAfM","sourcesContent":["import * as actionType from \"./actionType\";\nimport axios from \"axios\";\nimport { createMessage, returnErrors } from \"./messages\";\nimport { tokenConfig } from \"./authActions\";\n\nconst url = \"http://localhost:8000/api/leads/\";\n\nexport const getLeads = () => (dispatch, getState) => {\n  axios\n    .get(url, tokenConfig(getState))\n    .then((res) => {\n      dispatch({\n        type: actionType.GET_LEADS,\n        payload: res.data,\n      });\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const deleteLead = (id) => (dispatch, getState) => {\n  axios\n    .delete(url + `${id}/`, tokenConfig(getState))\n    .then((res) => {\n      dispatch({\n        type: actionType.DELETE_LEAD,\n        payload: id,\n      });\n\n      dispatch(createMessage({ deleteLead: \"Lead Deleted\" }));\n    })\n    .catch((err) =>\n      dispatch(returnErrors(err.response.data, err.response.status))\n    );\n};\n\nexport const addLead = (lead) => (dispatch, getState) => {\n  axios\n    .post(url, lead, tokenConfig(getState))\n    .then((res) => {\n      setTimeout(() => {\n        return dispatch({\n          type: actionType.ADD_LEAD,\n          payload: res.data,\n        });\n      }, 2000);\n      return dispatch(createMessage({ addedLead: \"Lead Added..\" }));\n    })\n    .catch((err) =>\n      dispatch(returnErrors(err.response.data, err.response.status))\n    );\n};\n"]},"metadata":{},"sourceType":"module"}